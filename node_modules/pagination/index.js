/*!
 * Node-Pagination
 * Copyright(c) 2014 mrvautin.com
 * MIT Licensed
 */
  
exports.get_html = function (total_pages, current_page, page_range, posts_per_page) {
	
	var pagination_array = [];
	
	// push the previous page link
	if(current_page <= 1){
		pagination_array.push("<li class='disabled'><a href='#'>&laquo;</a></li>");
	}
	else{
		var prev_page = parseInt(current_page) - 1;
		pagination_array.push("<li><a href='/page/" + prev_page + "'>&laquo;</a></li>");
	}
	
	// calc the max pages to show by getting the current page and 
	// calculating how many to show either side.
	var min_page = parseInt(current_page) - page_range;
	var max_page = parseInt(current_page) + page_range;
	
	for(var i = 1; i <= total_pages; i++)
	{
		// ensure the min page is 1 if its zero or negative
		if(min_page <= 1){
			min_page = 1;
		}
		// ensure the max page does not exceed the total pages to display
		if(max_page >= total_pages){
			max_page = total_pages;
		}
		
		// if the page falls within the page to display range then we display it
		if(i >= min_page && i <= max_page){
			if(i == current_page){
				pagination_array.push("<li class='active'><a href='#'>" + i + " <span class='sr-only'>(current)</span></a></li>");
			}else{
				pagination_array.push("<li><a href='/page/" + i + "'>" + i + "</a></li>");
			}
		}
	}
	
	// push the next page link
	if(current_page == total_pages){
		pagination_array.push("<li class='disabled'><a href='#'>&raquo;</a></li>");
	}
	else{
		var next_page = parseInt(current_page) + 1;
		pagination_array.push("<li><a href='/page/" + next_page + "'>&raquo;</a></li>");
	}
	
	return pagination_array;
};